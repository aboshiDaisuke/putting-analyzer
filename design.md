# パッティング分析システム - デザイン設計書

## アプリコンセプト

パッティング特化型ゴルフ分析アプリ。アナログ（紙のスコアカード）とデジタル（アプリ分析）を融合したハイブリッドシステムで、グリーン環境とパッティング結果の相関分析を可能にする。

## 画面一覧（Screen List）

| 画面名 | 説明 | タブ/スタック |
|--------|------|---------------|
| ホーム | ダッシュボード、最近のラウンド、クイックアクション | タブ1 |
| ラウンド一覧 | 過去のラウンド履歴リスト | タブ2 |
| 分析 | 統計・グラフ・傾向分析 | タブ3 |
| プロフィール | ユーザー情報、マイパター管理 | タブ4 |
| ラウンド新規作成 | コース情報・グリーン環境入力 | モーダル |
| スコアカード撮影 | カメラでスコアカードを撮影 | モーダル |
| ホール詳細入力 | 18ホール分のパットデータ入力/編集 | スタック |
| ラウンド詳細 | ラウンドの全データ閲覧 | スタック |
| パター登録/編集 | マイパターの登録・編集 | モーダル |
| コース登録 | よく行くコースの登録 | モーダル |

## 各画面のコンテンツと機能

### ホーム画面
- **ヘッダー**: ユーザー名、今日の日付
- **クイックスタッツ**: 平均パット数、直近5ラウンドの傾向
- **新規ラウンドボタン**: 大きなFABスタイル
- **最近のラウンド**: 直近3件のラウンドカード（コース名、日付、パット数）
- **今週のハイライト**: ベストパフォーマンスのホール

### ラウンド一覧画面
- **フィルター**: 期間、コース、グリーン種類
- **ラウンドカード**: 日付、コース名、総パット数、グリーンコンディション
- **スワイプアクション**: 削除

### 分析画面
- **期間セレクター**: 週/月/年/全期間
- **サマリーカード**: 平均パット数、1パット率、3パット率
- **グラフセクション**:
  - 距離別成功率（棒グラフ）
  - ライン別成功率（上り/下り/フラット）
  - グリーン速度別パフォーマンス
  - 心理状態との相関
- **傾向分析**: 改善ポイントのテキスト表示

### プロフィール画面
- **ユーザー情報カード**: 名前、HDCP、歩幅
- **マイパターセクション**: 登録済みパターリスト（Ace/2nd/3rd）
- **メンバーコース**: よく行くコースリスト
- **設定**: 単位設定、データエクスポート

### ラウンド新規作成画面（モーダル）
- **ステップ1**: 日時、天気、風速
- **ステップ2**: コース選択（登録済み or 新規入力）
- **ステップ3**: グリーン環境（芝種類、スティンプ、刈り高、コンパクション、コンディション）
- **ステップ4**: 使用パター選択
- **確認ボタン**: ラウンド開始

### スコアカード撮影画面
- **カメラビュー**: 全画面カメラ
- **ガイドオーバーレイ**: カード位置ガイド
- **撮影ボタン**: シャッター
- **OCR処理中**: ローディングインジケーター
- **結果プレビュー**: 認識結果の確認・修正

### ホール詳細入力画面
- **ホールナビゲーター**: 1-18ホール切り替え
- **パット入力カード**（1st/2nd/3rd）:
  - スコア結果（E/Ba/P/Bo/DB+）
  - 歩数入力（距離自動計算表示）
  - ライン選択（上下/左右）
  - カップイン チェック
  - 心理状態スライダー
  - タッチ強度スライダー
  - 外れた方向（8方向セレクター）
  - カップからの距離

## キーユーザーフロー

### フロー1: 新規ラウンド記録
1. ホーム画面 → 「新規ラウンド」タップ
2. ラウンド新規作成モーダル → 環境情報入力
3. ラウンド開始 → ホール詳細入力画面へ
4. 18ホール分のデータ入力
5. 完了 → ラウンド詳細画面で確認

### フロー2: スコアカードOCR取り込み
1. ホーム画面 → 「スコアカード撮影」タップ
2. カメラ画面 → カード撮影
3. OCR処理 → 結果プレビュー
4. 修正が必要な箇所を編集
5. 確定 → ホール詳細入力画面へ（データ反映済み）

### フロー3: 分析確認
1. 分析タブ → ダッシュボード表示
2. 期間選択で絞り込み
3. グラフタップで詳細表示
4. 傾向分析テキストで改善点確認

## カラーパレット

| トークン | ライト | ダーク | 用途 |
|----------|--------|--------|------|
| primary | #1B5E20 | #4CAF50 | ゴルフグリーンをイメージしたメインカラー |
| background | #FAFAFA | #121212 | 画面背景 |
| surface | #FFFFFF | #1E1E1E | カード背景 |
| foreground | #212121 | #E0E0E0 | メインテキスト |
| muted | #757575 | #9E9E9E | サブテキスト |
| border | #E0E0E0 | #424242 | 境界線 |
| success | #2E7D32 | #66BB6A | 成功（カップイン） |
| warning | #F57C00 | #FFB74D | 警告 |
| error | #C62828 | #EF5350 | エラー |
| accent | #0288D1 | #4FC3F7 | アクセント（分析ハイライト） |

## タイポグラフィ

- **見出し1**: 28px Bold（画面タイトル）
- **見出し2**: 22px SemiBold（セクションタイトル）
- **見出し3**: 18px SemiBold（カードタイトル）
- **本文**: 16px Regular
- **キャプション**: 14px Regular
- **数値表示**: 32px Bold（スタッツ数値）

## コンポーネント設計

### StatCard
スタッツ表示用カード。数値とラベルを縦配置。

### RoundCard
ラウンド一覧用カード。日付、コース名、パット数、コンディションバッジ。

### HoleInput
ホール入力用コンポーネント。パット情報を入力するフォーム。

### SlopeSelector
傾斜選択用コンポーネント。5つのオプション（F/U/D/U-D/D-U）をビジュアルに選択。

### DirectionPicker
外れた方向を8方向から選択するコンポーネント。円形UI。

### MentalSlider
心理状態を5段階で選択するスライダー。

## レスポンシブ考慮

- **縦向き固定**: モバイルアプリは縦向きのみ
- **片手操作**: 重要なアクションは画面下部に配置
- **大きなタップターゲット**: 最小44x44pt
- **スクロール**: 長いフォームはスクロール可能に

## アクセシビリティ

- コントラスト比4.5:1以上を確保
- タッチターゲットは44pt以上
- 色だけに依存しない情報伝達（アイコン併用）
